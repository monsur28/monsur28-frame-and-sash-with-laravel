"use client";

import { useEffect, useState } from "react";

export default function SweetAlert({
  show,
  title,
  message,
  type = "success",
  onClose,
}) {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    setIsVisible(show);
  }, [show]);

  const handleClose = () => {
    setIsVisible(false);
    if (onClose) onClose();
  };

  if (!isVisible) return null;

  return (
    <div
      className="fixed inset-0 bg-[rgba(0,89,97,0.80)]  flex items-center justify-center z-50 p-4"
      onClick={handleClose}
    >
      <div
        className="bg-white rounded-xl w-full max-w-md relative overflow-hidden"
        onClick={(e) => e.stopPropagation()}
      >
        {/* Icon Container with Teal Background */}
        <div className="bg-teal-500 h-32 flex items-center justify-center relative">
          {type === "success" && (
            <div className="w-16 h-16 bg-white rounded-full flex items-center justify-center">
              <img
                src="https://i.ibb.co.com/Wy25CD3/7361b7fc8afb8967cde95738ba8c2d04.png"
                alt=""
                className="w-16 h-16"
              />
            </div>
          )}

          {/* Wave Shape */}
          <div className="absolute left-0 right-0 bottom-0 h-10 overflow-hidden">
            <svg
              viewBox="0 0 1440 320"
              className="w-full h-full"
              preserveAspectRatio="none"
            >
              <path
                fill="white"
                d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,112C672,96,768,96,864,112C960,128,1056,160,1152,160C1248,160,1344,128,1392,112L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
              />
            </svg>
          </div>
        </div>

        {/* Content */}
        <div className="p-6 text-center">
          <h2 className="text-2xl font-semibold text-gray-800 mb-4">{title}</h2>
          <p className="text-gray-600 mb-6 leading-relaxed">{message}</p>
        </div>

        <div className="flex justify-center items-center pb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="80"
            height="105"
            viewBox="0 0 107 105"
            fill="none"
          >
            <path
              d="M87.9456 15.5172C88.1002 15.5172 88.1774 15.5944 88.332 15.5944C89.8774 16.5217 91.6546 16.7535 93.2773 17.3717C93.9728 17.6035 94.3591 17.9898 94.5137 18.6853C94.5137 18.9171 94.5909 19.2262 94.6682 19.458C94.6682 20.5398 94.8228 21.5443 95.1318 22.5488C95.1318 22.8579 95.2091 23.0897 95.2091 23.3988C95.3637 24.4806 95.5182 25.4851 95.5955 26.5669C95.6727 27.1851 95.8273 27.726 96.3682 28.1123C98.6863 29.8896 101.004 31.6668 103.245 33.444C103.632 33.9849 103.477 34.6031 103.323 35.2213C102.859 37.4621 102.395 39.7803 101.854 42.0211C101.545 43.2575 101.854 44.262 102.55 45.2665C103.786 47.1983 104.945 49.2073 106.259 51.2164C106.722 51.9891 106.645 52.53 106.182 53.2254C104.791 55.389 103.554 57.5526 102.163 59.7935C101.777 60.4116 101.623 61.0298 101.777 61.8025C102.318 64.1979 102.704 66.6706 103.323 69.066C103.632 70.2251 103.323 70.9205 102.473 71.5387C100.541 73.0068 98.6863 74.5522 96.7545 76.0204C96.0591 76.5613 95.75 77.1022 95.5955 77.9522C95.2864 80.4248 94.9 82.8202 94.5137 85.2929C94.3591 86.2974 94.05 86.9156 92.891 87.2247C91.3456 87.611 89.8774 88.2292 88.4093 88.6928C88.2547 88.6928 88.1774 88.6928 88.1002 88.8474C87.5593 88.8474 87.0184 89.0019 86.5547 89.3883C86.4002 89.3883 86.3229 89.4655 86.1684 89.4655C84.8548 89.4655 84.3139 90.3155 84.0048 91.3973C83.9275 91.3973 83.9275 91.4746 83.9275 91.5518C83.8503 91.7064 83.773 91.7837 83.6957 91.9382C83.4639 92.0927 83.3867 92.2473 83.3867 92.4791C82.2276 94.3336 81.1458 96.2654 80.2958 98.3517C80.2185 98.429 80.064 98.5835 79.9867 98.6608C77.1277 98.5835 74.2687 98.5835 71.4869 98.5062C70.4051 98.5062 69.6324 98.7381 68.8597 99.4335C67.0052 101.133 65.0734 102.756 63.2189 104.456C62.6007 104.997 62.0599 104.997 61.2871 104.765C58.969 103.761 56.6509 102.833 54.3328 101.906C53.4828 101.52 52.6328 101.597 51.7828 101.983C49.4647 102.988 47.1466 103.838 44.8284 104.842C44.0557 105.152 43.5921 104.997 43.0512 104.456C41.1194 102.679 39.1104 101.056 37.2559 99.2789C36.715 98.738 36.1741 98.5062 35.4014 98.5835C32.6969 98.6608 29.9924 98.7381 27.2879 98.8153C26.4379 98.8153 25.6652 98.738 25.5107 97.7335C25.2016 96.4972 24.6607 95.3381 23.8107 94.3336C23.7334 94.1791 23.5789 93.9473 23.5016 93.7927C23.5016 93.5609 23.4244 93.3291 23.1926 93.2518C22.4198 91.3973 21.8017 89.3883 19.2517 89.3883L19.1745 89.311H19.0199C17.1654 88.461 15.2336 87.9201 13.3019 87.3019C12.4519 86.9929 11.9883 86.6065 11.911 85.6793C11.5246 83.052 11.061 80.3475 10.6747 77.7203C10.5974 77.334 10.6747 76.8704 10.1338 76.7158C9.59286 76.0976 8.82015 75.5567 8.12471 75.0931C8.04744 75.0159 7.89289 74.9386 7.81562 74.8613C6.42475 73.625 5.03387 72.3886 3.41118 71.4614C2.94755 70.8432 2.87028 70.2251 3.02482 69.5296C3.56572 67.0569 4.02935 64.507 4.57024 62.0343C4.72478 61.3389 4.64751 60.798 4.26116 60.1798C3.25664 58.6344 2.48393 56.9344 1.32486 55.4663C-0.0660162 53.6118 -0.684185 51.8345 1.09305 49.9028C1.09305 49.9028 1.09305 49.8255 1.09305 49.7482C2.17484 48.3574 3.10209 46.8119 3.8748 45.2665C4.57024 44.6483 4.72478 43.9529 4.57024 43.0257C3.95207 40.0121 3.41118 37.0758 2.79301 34.0622C3.8748 33.444 4.87933 32.6713 5.72931 31.6668C6.57929 31.2032 7.27473 30.585 7.97017 29.8896C8.20198 29.8896 8.35652 29.8123 8.43379 29.5805C8.51106 29.5032 8.66561 29.426 8.74288 29.2714C9.51559 28.7305 10.5201 28.4214 10.6747 27.2624C10.6747 27.1078 10.6747 26.876 10.7519 26.7215C11.061 25.7942 11.1383 24.867 11.2155 23.9397C11.2155 23.6306 11.2928 23.3988 11.2928 23.0897C11.8337 21.8534 11.7564 20.4625 11.9883 19.1489C12.1428 18.3762 12.4519 17.9126 13.2246 17.6808C15.6973 16.9081 18.0927 16.0581 20.4881 15.2854C21.338 14.9763 21.8789 14.5127 22.3426 13.7399C23.5016 11.4991 24.738 9.33549 25.897 7.09464C26.3607 6.24465 26.9016 6.01284 27.8288 6.09011C30.3788 6.24465 32.9287 6.24465 35.4786 6.32193C35.9423 6.32193 36.5604 6.55374 36.7922 5.8583C37.2559 5.70376 37.565 5.39467 37.874 4.93105C38.4149 4.69923 38.8786 4.31288 39.1876 3.77198C40.424 2.69019 41.6603 1.68567 42.8967 0.603872C43.5921 -0.0142965 44.2103 -0.168839 45.1375 0.217517C47.3011 1.14477 49.542 1.99475 51.7055 2.922C52.7101 3.38563 53.6373 3.38563 54.6418 2.922C56.7282 1.99475 58.8917 1.29931 60.9781 0.294786C62.0599 -0.246111 62.9098 -0.0142974 63.6825 0.758413C64.378 1.45385 65.0734 2.22656 66.0007 2.69019C66.0779 2.76746 66.2325 2.84473 66.3098 2.922C66.387 2.99927 66.4643 3.07654 66.6188 3.15381C67.0825 3.69471 67.5461 4.31288 68.2415 4.62196C68.937 5.39467 69.5551 6.32193 70.7915 6.24465C72.9551 6.16738 75.0414 6.24466 77.205 6.01284C79.214 5.78103 80.6822 6.24466 81.3003 8.33097C81.3776 8.71733 81.5321 9.10368 81.9958 9.33549C82.5367 10.4173 83.0776 11.4218 83.4639 12.5036C84.3139 14.3581 85.8593 15.2081 87.9456 15.5172ZM53.251 89.5428C54.2555 89.5428 55.1827 89.5428 56.1873 89.5428C56.8827 89.5428 57.5781 89.3883 58.2736 89.311C70.3279 87.4565 79.5231 81.3521 85.7048 70.9205C90.4956 62.8843 91.8092 54.0754 90.1092 44.8802C89.4138 41.1712 88.1002 37.6167 86.3229 34.294C86.1684 33.9849 85.9366 33.135 85.3957 33.5986C84.3912 34.3713 83.3866 35.2986 82.6912 36.3803C82.2276 37.1531 83.0776 37.9258 83.4639 38.6212C88.4093 50.3664 87.3275 61.5707 79.8322 71.7705C70.4824 84.4429 54.7191 88.461 40.1149 82.3566C26.3607 76.7158 17.8609 60.9525 20.7199 46.4256C22.9607 35.0667 29.297 26.7987 39.8058 22.0079C49.851 17.449 59.8963 18.0671 69.6324 23.4761C72.1824 24.867 72.0278 24.867 74.1914 22.9352C75.2732 21.9307 75.0414 21.5443 73.9596 20.8489C65.228 15.2854 55.7236 13.2763 45.6011 15.4399C25.5107 19.6898 12.5292 38.853 16.47 59.5616C19.7926 77.0249 35.4014 89.6201 53.251 89.5428ZM88.8729 24.3261C87.482 23.7079 86.2457 23.8624 85.0093 24.017C80.5276 24.7124 76.8186 26.9533 73.2641 29.5805C65.7689 35.2213 59.6645 42.1757 53.7919 49.3619C51.7055 51.9118 49.851 54.539 47.842 57.089C47.5329 57.4753 47.2238 58.0162 46.6829 57.939C46.142 57.8617 46.3738 57.2435 46.2193 56.8572C45.0602 53.9981 43.9012 51.1391 41.8921 48.7437C36.9468 42.6393 29.9924 45.8847 26.8243 50.2891C29.3742 50.0573 30.7651 51.6027 32.156 53.3027C32.6196 53.8436 33.006 54.3845 33.3923 55.0027C36.9468 60.4116 39.4195 66.3615 41.6603 72.3886C42.1239 73.625 43.8239 74.784 45.0602 74.5522C47.6874 74.0113 49.9283 72.8523 51.551 70.6114C52.9419 68.6796 54.0237 66.6706 54.7191 64.4297C55.8009 61.3389 57.3463 58.4799 59.2008 55.7754C65.1507 47.121 72.4914 39.703 79.9867 32.4395C82.8457 29.8123 85.782 27.1078 88.8729 24.3261Z"
              fill="#009DAA"
            />
          </svg>
        </div>
      </div>
    </div>
  );
}
